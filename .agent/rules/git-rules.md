---
trigger: always_on
---

## 开发工作流规则 (强制执行)

### 1. 外部依赖管理协议
在建议或安装任何新的外部库/依赖之前，你必须严格执行以下步骤：
1.  **检查现有环境**：首先分析 `package.json` (或 `requirements.txt`/`go.mod` 等)，检查项目中是否已经存在能实现该功能的库。严禁引入功能重复的冗余依赖。
2.  **论证必要性**：如果确实需要引入新库，请简要说明理由（例如：“现有库 X 不支持功能 Y，而新库 Z 是目前的行业标准且维护活跃”）。
3.  **请求许可**：明确向我询问：“我建议安装 [库名]。请问是否允许执行安装命令？”
4.  **禁止自动执行**：在我明确回复“是”或“确认”之前，**绝对不要**擅自运行安装命令（如 `npm install`, `pip install` 等）。

### 2. Git 提交策略
每当你完成一个“逻辑工作单元”（例如：修复了一个具体的 Bug、完成了一个独立功能点、或进行了一次重构）后，请执行以下操作：
1.  **即时提议**：在代码修改完成并确认无误后，主动生成 Git 提交命令供我确认。
2.  **格式规范**：提交信息必须遵守 [Conventional Commits] 规范：
    * `feat: ...` (新增功能)
    * `fix: ...` (修复 Bug)
    * `refactor: ...` (代码重构，不影响逻辑)
    * `style: ...` (格式调整，不影响代码运行)
    * `docs: ...` (文档变更)
3.  **内容深度**：提交信息应当包含“改了什么”以及“为什么改”（如果原因不明显）。
    * *❌ 错误示例*："修改了代码" 或 "update"
    * *✅ 正确示例*："fix(login): 将超时时间延长至 10s 以解决网络波动导致的登录失败"